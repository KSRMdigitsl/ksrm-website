<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Salary Calculator (UK) — KSRM Digital</title>
  <meta name="description" content="Quick UK salary calculator (2024–25). See take-home pay, tax, NI and pension with simple inputs and responsive layout.">
  <link rel="icon" href="/assets/img/favicon.png" />

  <!-- Google AdSense (publisher: KSRM) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9718922267093672" crossorigin="anonymous"></script>

  <style>
    :root{
      --page:#f6f7fb; --card:#fff; --line:#e7eaf0; --text:#0b1220; --muted:#768196;
      --brand:#2e66f5; --pill:#eef3ff; --radius:14px; --shadow:0 10px 28px rgba(17,24,39,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{background:var(--page); color:var(--text); font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; line-height:1.45}
    .wrap{max-width:980px;margin:0 auto;padding:26px 18px 80px}
    .card{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow)}
    .pad{padding:18px}

    .title{font-size:clamp(26px,3.2vw,36px); margin:10px 0 6px; font-weight:800}
    .lede{color:var(--muted); margin:0 0 18px}

    /* Inputs */
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width:720px){.grid{grid-template-columns:1fr}}
    .field{display:flex; flex-direction:column; gap:6px}
    .field label{font-weight:600; font-size:14px}
    input[type="number"],select{
      width:100%; padding:12px 12px; border:1px solid var(--line); border-radius:10px; background:#fff; outline:none;
    }
    input:focus,select:focus{border-color:#cbd7ff; box-shadow:0 0 0 3px #e8efff}

    /* Period pills */
    .pills{display:flex; gap:6px; background:#f0f3f9; border-radius:999px; padding:4px; width:max-content}
    .pills button{border:0;background:transparent;padding:8px 12px;border-radius:999px;font-weight:600;cursor:pointer}
    .pills .is-active{background:var(--pill); color:var(--brand)}

    /* Actions */
    .row-between{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:10px}
    .link{color:var(--brand); font-weight:600; text-decoration:none; cursor:pointer}
    .link:hover{text-decoration:underline}
    .muted{color:var(--muted)}

    /* KPIs */
    .kpis{display:grid; grid-template-columns:repeat(5,1fr); gap:12px}
    @media (max-width:980px){.kpis{grid-template-columns:repeat(3,1fr)}}
    @media (max-width:540px){.kpis{grid-template-columns:repeat(2,1fr)}}
    .kpi{border:1px solid var(--line); border-radius:12px; padding:14px}
    .kpi h5{margin:0 0 6px; color:#6b7381; font-size:12px; letter-spacing:.06em; text-transform:uppercase}
    .kpi .v{font-weight:800; font-size:20px}

    /* Ad slots */
    .ad{margin:16px 0 8px}
    .ad > ins.adsbygoogle{display:block}
  </style>
</head>
<body>

  <!-- Header via partial -->
  <div id="site-header" data-include="/partials/header.html"></div>

  <div class="wrap">
    <h1 class="title">Salary Calculator (UK)</h1>
    <p class="lede">Enter your salary and see take-home, tax, NI, and pension. Simple, fast, and mobile-friendly.</p>

    <!-- TOP AD -->
    <div class="card pad ad">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-9718922267093672"
           data-ad-slot="XXXXXXXXXX"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
    </div>
    <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>

    <!-- INPUTS -->
    <section class="card pad" aria-label="Inputs">
      <div class="grid">
        <div class="field">
          <label for="inSalary">Annual gross salary (£)</label>
          <input id="inSalary" type="number" min="0" step="1" placeholder="e.g. 52000" />
        </div>

        <div class="field">
          <label>Show results per</label>
          <div class="pills" id="periodPills">
            <button type="button" class="is-active" data-per="month">Month</button>
            <button type="button" data-per="year">Year</button>
            <button type="button" data-per="week">Week</button>
            <button type="button" data-per="day">Day</button>
          </div>
        </div>

        <div class="field">
          <label for="inEmpPen">Pension (employee) %</label>
          <input id="inEmpPen" type="number" min="0" step="0.1" placeholder="e.g. 5" />
        </div>

        <div class="field">
          <label for="inRegion">Region</label>
          <select id="inRegion">
            <option value="EWNI">England / Wales / NI</option>
            <option value="SCT">Scotland</option>
          </select>
        </div>
      </div>

      <div class="row-between">
        <span class="muted">Optional: <a class="link" id="loanToggle">Student loan</a></span>
        <div>
          <button class="link" id="copyLink">Copy link</button>
          <span class="muted">•</span>
          <button class="link" id="resetAll">Reset</button>
        </div>
      </div>

      <!-- Collapsible: Student Loan -->
      <div id="loanBox" style="display:none; margin-top:12px">
        <div class="grid">
          <div class="field">
            <label for="inLoanPlan">Loan plan</label>
            <select id="inLoanPlan">
              <option value="none">None</option>
              <option value="plan1">Plan 1</option>
              <option value="plan2">Plan 2</option>
              <option value="plan4">Plan 4 (Scotland)</option>
              <option value="plan5">Plan 5</option>
              <option value="postgrad">Postgraduate</option>
            </select>
          </div>
          <div class="field">
            <label for="inTaxYear">Tax year</label>
            <select id="inTaxYear">
              <option value="2024">2024–25</option>
            </select>
          </div>
        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section class="card pad" aria-label="Results" style="margin-top:14px">
      <div class="kpis">
        <div class="kpi"><h5>Gross</h5><div class="v" id="kpiGross">£0.00</div></div>
        <div class="kpi"><h5>Take-home</h5><div class="v" id="kpiTake">£0.00</div></div>
        <div class="kpi"><h5>Income tax</h5><div class="v" id="kpiTax">£0.00</div></div>
        <div class="kpi"><h5>NI (employee)</h5><div class="v" id="kpiNI">£0.00</div></div>
        <div class="kpi"><h5>Pension</h5><div class="v" id="kpiPen">£0.00</div></div>
      </div>
      <p class="muted" style="margin:12px 0 0">Effective tax rate: <strong id="effRate">0%</strong></p>
    </section>

    <!-- MIDDLE AD -->
    <div class="card pad ad">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-9718922267093672"
           data-ad-slot="YYYYYYYYYY"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
    </div>
    <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>

    <!-- BREAKDOWN (optional) -->
    <section class="card pad" aria-label="Breakdown" style="margin-top:14px">
      <h3 style="margin:0 0 8px">Breakdown</h3>
      <p class="muted">Keep this minimal; if you have a table, render it here. Otherwise leave it simple.</p>
    </section>

    <!-- BOTTOM AD -->
    <div class="card pad ad">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-9718922267093672"
           data-ad-slot="ZZZZZZZZZZ"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
    </div>
    <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
  </div>

  <!-- Footer via partial -->
  <div id="site-footer" data-include="/partials/footer.html"></div>

  <script>
    // ---- Include partials (header/footer) ----
    document.querySelectorAll('[data-include]').forEach(async el=>{
      try{
        const res = await fetch(el.getAttribute('data-include'), {cache:'no-store'});
        el.innerHTML = await res.text();
      }catch(e){ console.warn('Include failed', e); }
    });

    // ---- Tiny UI + stub calc (replace with your real logic) ----
    const $ = s=>document.querySelector(s), $$ = s=>document.querySelectorAll(s);

    const inSalary = $('#inSalary');
    const inEmpPen = $('#inEmpPen');
    const inRegion = $('#inRegion');
    const inLoanPlan = $('#inLoanPlan');
    const inTaxYear = $('#inTaxYear');

    const kGross = $('#kpiGross'), kTake = $('#kpiTake'), kTax = $('#kpiTax'), kNI = $('#kpiNI'), kPen = $('#kpiPen');
    const effRate = $('#effRate');

    let period = 'month';

    // Toggle loan box
    $('#loanToggle').addEventListener('click',()=>{
      const box = $('#loanBox'); box.style.display = box.style.display==='none' ? 'block' : 'none';
    });

    // Period pills
    $$('#periodPills button').forEach(b=>{
      b.addEventListener('click',()=>{
        $$('#periodPills button').forEach(x=>x.classList.remove('is-active'));
        b.classList.add('is-active');
        period = b.dataset.per;
        recalc();
      });
    });

    // Copy & reset
    $('#copyLink').addEventListener('click',()=>{
      const params = new URLSearchParams({
        s: inSalary.value || '',
        per: period,
        pen: inEmpPen.value || '',
        r: inRegion.value || '',
        sl: inLoanPlan?.value || 'none',
        ty: inTaxYear?.value || '2024'
      });
      navigator.clipboard.writeText(location.origin + location.pathname + '?' + params.toString());
    });
    $('#resetAll').addEventListener('click',()=>{
      inSalary.value=''; inEmpPen.value=''; inRegion.value='EWNI';
      if(inLoanPlan) inLoanPlan.value='none'; if(inTaxYear) inTaxYear.value='2024';
      period='month'; $$('#periodPills button').forEach(x=>x.classList.remove('is-active'));
      $('#periodPills button[data-per="month"]').classList.add('is-active');
      recalc();
    });

    // Wire inputs
    [inSalary,inEmpPen,inRegion,inLoanPlan,inTaxYear].forEach(el=>el && el.addEventListener('input', recalc));

    function factor(p){ return p==='year'?1: p==='month'?1/12: p==='week'?1/52: 1/260; }
    function £(n){ return (n||0).toLocaleString('en-GB',{style:'currency',currency:'GBP'}); }

    // Placeholder calc (swap for your real engine)
    function recalc(){
      const s = +inSalary.value || 0;
      const empP = +inEmpPen.value || 0;
      const f = factor(period);
      const gross = s * f;
      const pen = gross * (empP/100);
      const tax = Math.max(0, gross*0.14);  // placeholder
      const ni  = Math.max(0, gross*0.06);  // placeholder
      const take = Math.max(0, gross - tax - ni - pen);
      const eff = gross ? Math.round((1 - take/gross)*100) : 0;

      kGross.textContent = £(gross);
      kTake.textContent  = £(take);
      kTax.textContent   = £(tax);
      kNI.textContent    = £(ni);
      kPen.textContent   = £(pen);
      effRate.textContent = eff + '%';
    }

    // QS support (from copy link)
    (function initQS(){
      const q = new URLSearchParams(location.search);
      if(q.has('s')) inSalary.value = q.get('s');
      if(q.has('per')) {
        period = q.get('per');
        $$('#periodPills button').forEach(x=>x.classList.remove('is-active'));
        (document.querySelector(`#periodPills button[data-per="${period}"]`) || document.querySelector('#periodPills button[data-per="month"]')).classList.add('is-active');
      }
      if(q.has('pen')) inEmpPen.value = q.get('pen');
      if(q.has('r')) inRegion.value = q.get('r');
      if(q.has('sl') && $('#loanBox')) { $('#loanBox').style.display='block'; inLoanPlan.value = q.get('sl'); }
      if(q.has('ty') && inTaxYear) inTaxYear.value = q.get('ty');
      recalc();
    })();
  </script>
</body>
</html>
