<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Salary Calculator (UK) — KSRM Digital</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9718922267093672" crossorigin="anonymous"></script>

  <style>
    :root{
      --bg:#f7f9fc;--card:#fff;--ink:#0f172a;--muted:#5b677a;--line:#e7eaf0;
      --brand:#3b82f6;--accent:#ff8a3d;--shadow:0 8px 28px rgba(18,26,42,.08);--radius:14px;
    }
    html,body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Arial,sans-serif}
    .page{max-width:1200px;margin:0 auto;padding:24px 20px 64px}
    #site-header,#site-footer{min-height:64px}

    .headline{font:700 34px/1.2 Poppins,Inter,sans-serif;margin:10px 0 6px}
    .intro{color:var(--muted);margin:8px 0 20px;max-width:80ch}

    .chipbar{
      display:flex;flex-wrap:wrap;align-items:center;gap:10px;
      background:#fff;padding:12px 14px;border-radius:999px;border:1px solid var(--line);
      box-shadow:var(--shadow);position:sticky;top:0;z-index:5
    }
    .chip{border:1px solid var(--line);background:#fff;border-radius:999px;padding:8px 14px;font-weight:600}
    .chip.is-on{background:var(--ink);color:#fff;border-color:var(--ink)}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:#fff;font-weight:700;cursor:pointer}
    .btn.primary{background:var(--brand);color:#fff;border-color:var(--brand)}
    .ads{margin:18px 0;background:#fff;border:1px solid var(--line);border-radius:14px;padding:6px;box-shadow:var(--shadow)}

    .layout{display:grid;grid-template-columns:1fr 1fr;gap:22px;margin-top:16px}
    @media (max-width:1000px){.layout{grid-template-columns:1fr}}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow)}
    .card .hd{padding:16px 18px 8px;border-bottom:1px solid var(--line);font-weight:700}
    .card .bd{padding:18px}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:700px){.grid-2{grid-template-columns:1fr}}
    .field{display:flex;flex-direction:column;gap:8px}
    .field label{font-weight:600}
    .field input,.field select{height:46px;border-radius:12px;border:1px solid var(--line);padding:0 14px;background:#fff;font-weight:600}
    .preset-row{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:8px}
    .preset{border:1px solid var(--line);background:#fff;border-radius:999px;padding:7px 12px;cursor:pointer;font-weight:600}
    .preset:hover{border-color:var(--ink)}
    .stat{border:1px dashed var(--line);border-radius:14px;padding:14px;background:#fff}
    .stat .t{color:var(--muted);font-size:12px;margin-bottom:6px}
    .stat .v{font:700 24px/1 Inter,sans-serif}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#fff}
    .row{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--line)}
    .row:last-child{border-bottom:none}
  </style>
</head>
<body>

<div id="site-header"></div>

<div class="page">

  <!-- Summary -->
  <div class="chipbar">
    <button id="chip-month" class="chip is-on">Month</button>
    <button id="chip-year" class="chip">Year</button>
    <span class="chip" id="chip-takehome">£0.00</span>
    <span class="chip">Effective tax rate: <span id="chip-rate">0%</span></span>
    <div style="margin-left:auto;display:flex;gap:8px">
      <button class="btn" id="btn-copy">Copy link</button>
      <button class="btn" id="btn-reset">Reset</button>
    </div>
  </div>

  <h1 class="headline">Salary Calculator (UK)</h1>
  <p class="intro">Estimate your monthly or yearly take-home pay with UK tax, NI, pension and student loan for 2024–25.</p>

  <!-- Ad 1 -->
  <div class="ads">
    <!-- ad1 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-9718922267093672"
         data-ad-slot="3997839388"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

  <div class="layout">
    <!-- Inputs -->
    <section class="card">
      <div class="hd">Inputs</div>
      <div class="bd">
        <div class="preset-row">
          <button class="preset" data-s="25000">£25k</button>
          <button class="preset" data-s="35000">£35k</button>
          <button class="preset" data-s="50000">£50k</button>
          <button class="preset" data-s="75000">£75k</button>
          <button class="preset" data-s="100000">£100k</button>
        </div>

        <div class="grid-2">
          <div class="field">
            <label for="salary">Annual gross salary (£)</label>
            <input id="salary" type="number" min="0" step="100" value="52000" />
          </div>
          <div class="field">
            <label for="pen">Pension (employee) %</label>
            <input id="pen" type="number" min="0" step="0.5" value="5" />
          </div>
          <div class="field">
            <label for="region">Region</label>
            <select id="region">
              <option value="EWNI" selected>England / Wales / NI</option>
              <option value="SCT">Scotland</option>
            </select>
          </div>
          <div class="field">
            <label for="loan">Student loan</label>
            <select id="loan">
              <option value="none">None</option>
              <option value="plan1">Plan 1</option>
              <option value="plan2" selected>Plan 2</option>
              <option value="plan4">Plan 4 (Scotland)</option>
              <option value="pgl">Postgraduate</option>
            </select>
          </div>
        </div>
        <button id="btn-calc" class="btn primary" style="margin-top:10px">Recalculate</button>
      </div>
    </section>

    <!-- Results -->
    <section class="card">
      <div class="hd">Results</div>
      <div class="bd">
        <div class="grid-2">
          <div class="stat"><div class="t">Gross pay</div><div class="v" id="r-gross">£0.00</div></div>
          <div class="stat"><div class="t">Take-home</div><div class="v" id="r-take">£0.00</div></div>
          <div class="stat"><div class="t">Income tax</div><div class="v" id="r-tax">£0.00</div></div>
          <div class="stat"><div class="t">NI (employee)</div><div class="v" id="r-ni">£0.00</div></div>
          <div class="stat"><div class="t">Pension</div><div class="v" id="r-pen">£0.00</div></div>
        </div>
        <div class="row"><span>Effective tax rate</span><span class="pill" id="r-rate">0%</span></div>
      </div>
    </section>
  </div>

  <!-- Ad 2 -->
  <div class="ads">
    <!-- ad2 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-9718922267093672"
         data-ad-slot="3997839388"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

  <!-- Breakdown -->
  <section class="card" style="margin-top:16px">
    <div class="hd">Breakdown</div>
    <div class="bd">
      <p class="intro">Detailed breakdown of income tax, NI, pension, and student loan based on 2024–25 thresholds.</p>
    </div>
  </section>

  <!-- Ad 3 -->
  <div class="ads">
    <!-- ad3 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-9718922267093672"
         data-ad-slot="3997839388"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

</div>

<div id="site-footer"></div>

<script>
(async()=>{ // Load partials
  const inject=async(id,path)=>{
    try{
      const r=await fetch(path,{cache:'no-store'});
      if(r.ok)document.getElementById(id).innerHTML=await r.text();
    }catch(e){console.warn('Include failed',path,e);}
  };
  await inject('site-header','/partials/header.html');
  await inject('site-footer','/partials/footer.html');
})();

// === Calculator ===
const $=s=>document.querySelector(s);
const $$=s=>document.querySelectorAll(s);
let period='month';

const els={
  salary:$('#salary'),pen:$('#pen'),region:$('#region'),loan:$('#loan'),
  rGross:$('#r-gross'),rTake:$('#r-take'),rTax:$('#r-tax'),
  rNI:$('#r-ni'),rPen:$('#r-pen'),rRate:$('#r-rate'),
  chipTake:$('#chip-takehome'),chipRate:$('#chip-rate'),
  chipMonth:$('#chip-month'),chipYear:$('#chip-year')
};

const fmt=n=>n.toLocaleString('en-GB',{style:'currency',currency:'GBP',maximumFractionDigits:2});
const PERSONAL_ALLOWANCE=12570,BASIC_BAND=37700,HIGHER_LIMIT=125140,NI_PT=12570,NI_UEL=50270,NI_MAIN=0.08,NI_ADD=0.02;
const SL_THRESH={none:Infinity,plan1:24390,plan2:27295,plan4:27660,pgl:21000};
const SL_RATE={plan1:0.09,plan2:0.09,plan4:0.09,pgl:0.06};
function clampPA(i){if(i<=100000)return PERSONAL_ALLOWANCE;const t=(i-100000)/2;return Math.max(0,PERSONAL_ALLOWANCE-t);}
function taxEWNI(i,p){const pa=clampPA(i),taxable=Math.max(0,i-p-pa);let tax=0;const b=Math.min(taxable,BASIC_BAND);tax+=b*.2;const h=Math.max(0,taxable-BASIC_BAND);tax+=Math.min(h,125140-BASIC_BAND)*.4;const add=Math.max(0,taxable-125140);tax+=add*.45;return tax;}
function taxSCT(i,p){const pa=clampPA(i);let taxable=Math.max(0,i-p-pa),tax=0,prev=0,bands=[[14976,.19],[26756,.20],[43662,.21],[75000,.42],[125140,.45],[Infinity,.48]];for(const[b,r]of bands){const slice=Math.min(taxable,b-prev);if(slice>0){tax+=slice*r;taxable-=slice;prev=b;}if(taxable<=0)break;}return tax;}
function ni(i,p){const niI=Math.max(0,i-p);let n=0;const m=Math.max(0,Math.min(niI,NI_UEL)-NI_PT);n+=m*NI_MAIN;const a=Math.max(0,niI-NI_UEL);n+=a*NI_ADD;return n;}
function loan(i,plan){if(plan==='none')return 0;const thr=SL_THRESH[plan],r=SL_RATE[plan];return Math.max(0,(i-thr))*r;}
function calc(){
  const s=+els.salary.value||0,pPct=+els.pen.value||0,empPen=s*(pPct/100),reg=els.region.value,plan=els.loan.value;
  const tax=reg==='SCT'?taxSCT(s,empPen):taxEWNI(s,empPen),niV=ni(s,empPen),loanV=loan(s,plan);
  const take=s-tax-niV-loanV-empPen;const div=period==='month'?12:1;
  els.rGross.textContent=fmt(s/div);els.rTax.textContent=fmt(tax/div);
  els.rNI.textContent=fmt(niV/div);els.rPen.textContent=fmt(empPen/div);
  els.rTake.textContent=fmt(take/div);
  const eff=s>0?((s-take)/s*100):0;els.rRate.textContent=eff.toFixed(1)+'%';
  els.chipTake.textContent=fmt(take/div);els.chipRate.textContent=eff.toFixed(1)+'%';
  els.chipMonth.classList.toggle('is-on',period==='month');els.chipYear.classList.toggle('is-on',period==='year');
}
$$('.preset').forEach(b=>b.addEventListener('click',()=>{els.salary.value=b.dataset.s;calc();}));
$('#chip-month').addEventListener('click',()=>{period='month';calc();});
$('#chip-year').addEventListener('click',()=>{period='year';calc();});
$('#btn-calc').addEventListener('click',calc);
$('#btn-reset').addEventListener('click',()=>{els.salary.value=52000;els.pen.value=5;els.region.value='EWNI';els.loan.value='plan2';period='month';calc();});
$('#btn-copy').addEventListener('click',()=>{navigator.clipboard.writeText(location.href);});
calc();
</script>
</body>
</html>
